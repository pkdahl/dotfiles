[general]
accounts = uio
ui = ttyui
pythonfile = ~/.offlineimap/offlineimap.py

[Account gmail]
localrepository = gmail_local
remoterepository = gmail_remote

[Repository gmail_local]
type = Maildir
localfolders = ~/Mail/gmail
nametrans = lambda folder: {'inbox':  'INBOX',
			    'all':    '[Gmail]/All Mail',
			    'sent':   '[Gmail]/Sent Mail',
			    'drafts': '[Gmail]/Drafts',
			    'trash':  '[Gmail]/Trash'
			    }.get(folder, folder)

[Repository gmail_remote]
type = Gmail
maxconnections = 1
realdelete = yes
ssl = yes
sslcacertfile = /usr/local/etc/openssl/cert.pem
remotehost = imap.gmail.com
oauth2_client_id_eval = get_keychain_pass(account="pkdahl@gmail.com", server="gmail_oauth2_client_id")
oauth2_client_secret_eval = get_keychain_pass(account="pkdahl@gmail.com", server="gmail_oauth2_client_secret")
oauth2_refresh_token_eval = get_keychain_pass(account="pkdahl@gmail.com", server="gmail_oauth2_refresh_token")
oauth2_request_url = https://accounts.google.com/o/oauth2/token
remoteuser = pkdahl@gmail.com
nametrans = lambda folder: {'INBOX':             'inbox',
			    '[Gmail]/All Mail':  'all',
			    '[Gmail]/Sent Mail': 'sent',
			    '[Gmail]/Drafts':    'drafts',
			    '[Gmail]/Trash':     'trash'
			    }.get(folder, folder)
folderfilter = lambda folder: folder in ['INBOX',
					 '[Gmail]/All Mail',
					 '[Gmail]/Sent Mail',
					 '[Gmail]/Drafts',
					 '[Gmail]/Trash']

[Account uio]
localrepository = uio_local
remoterepository = uio_remote

[Repository uio_local]
type = Maildir
localfolders = ~/Mail/uio
nametrans = lambda folder: {'drafts':   'Drafts',
			    'inbox':    'INBOX',
			    'received': 'Received Items',
			    'sent':     'Sent Items',
			    'trash':    'Deleted Items',
			   }.get(folder, folder)

[Repository uio_remote]
type = IMAP
maxconnections = 1
remotehost = mail.uio.no
remoteuser = perkda
remotepasseval = get_keychain_pass(account="perkda", server="mail.uio.no")

ssl = yes
sslcacertfile = /usr/local/etc/openssl/cert.pem
nametrans = lambda folder: {'Deleted Items':  'trash',
			    'Drafts':         'drafts',
			    'INBOX':          'inbox',
			    'Received Items': 'received',
			    'Sent Items':     'sent',
			    }.get(folder, folder)
folderfilter = lambda folder: folder in ['INBOX',
					 'Received Items',
					 'Sent Items',
					 'Drafts',
					 'Deleted Items']

[Account pegis]
localrepository = pegis_local
remoterepository = pegis_remote

[Repository pegis_local]
type = Maildir
localfolders = ~/Mail/pegis
nametrans = lambda folder: {'inbox': 'INBOX',
			    'sent':  'Sent Items',
			    'drafts': 'Drafts',
			    'trash':  'Deleted Items'
			   }.get(folder, folder)

[Repository pegis_remote]
type = IMAP
maxconnections = 1
remotehost = outlook.office365.com
remoteuser = per@pegis.com
#remotepasseval = get_keychain_pass(account="per@pegis.com", server="outlook.office365.com")
ssl = yes
sslcacertfile = /usr/local/etc/openssl/cert.pem
nametrans = lambda folder: {'INBOX':         'inbox',
			    'Sent Items':    'sent',
			    'Drafts':        'drafts',
			    'Deleted Items': 'trash'
			    }.get(folder, folder)
folderfilter = lambda folder: folder in ['INBOX',
					 'Sent Items',
					 'Drafts',
					 'Deleted Items']